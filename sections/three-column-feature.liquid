<section class="three-column-feature section-{{ section.id }}-padding">
  <div class="page-width">
    <div class="three-column-feature__grid">
      <!-- Left Section - Product Info -->
      <div class="three-column-feature__column three-column-feature__column--left">
        <div class="three-column-feature__content">
          {%- if section.settings.left_heading != blank -%}
            <h2 class="three-column-feature__heading three-column-feature__heading--left">
              {{ section.settings.left_heading }}
            </h2>
          {%- endif -%}

          {%- if section.settings.left_description != blank -%}
            <p class="three-column-feature__description three-column-feature__description--left">
              {{ section.settings.left_description }}
            </p>
          {%- endif -%}

          {%- if section.settings.left_image != blank -%}
            <div class="three-column-feature__image-wrapper three-column-feature__image-wrapper--left">
              {{
                section.settings.left_image
                | image_url: width: 400
                | image_tag: class: 'three-column-feature__image three-column-feature__image--left', loading: 'lazy'
              }}
            </div>
          {%- endif -%}

          {%- if section.settings.left_button_text != blank and section.settings.left_button_link != blank -%}
            <a
              href="{{ section.settings.left_button_link }}"
              class="three-column-feature__button three-column-feature__button--left"
            >
              {{ section.settings.left_button_text }}
            </a>
          {%- endif -%}
        </div>

        <!-- Middle Section - Bundle Info -->
        <div class="three-column-feature__column three-column-feature__column--middle">
          <div class="three-column-feature__card three-column-feature__card--middle">
            {%- if section.settings.middle_heading != blank -%}
              <h2 class="three-column-feature__heading three-column-feature__heading--middle">
                {{ section.settings.middle_heading }}
              </h2>
            {%- endif -%}

            {%- if section.settings.middle_description != blank -%}
              <div class="three-column-feature__description three-column-feature__description--middle">
                {{ section.settings.middle_description }}
              </div>
            {%- endif -%}

            {%- if section.settings.middle_button_text != blank and section.settings.middle_button_link != blank -%}
              <a
                href="{{ section.settings.middle_button_link }}"
                class="three-column-feature__button three-column-feature__button--middle"
              >
                {{ section.settings.middle_button_text }}
              </a>
            {%- endif -%}
          </div>
        </div>
      </div>

      <!-- Right Section - Video with Before/After -->
      <div class="three-column-feature__column three-column-feature__column--right">
        <div class="three-column-feature__video-section">
          {%- if section.settings.video_poster != blank -%}
            <div class="three-column-feature__video-wrapper">
              {{
                section.settings.video_poster
                | image_url: width: 500
                | image_tag: class: 'three-column-feature__video-poster', loading: 'lazy'
              }}

              {%- if section.settings.video_url != blank -%}
                <button
                  class="three-column-feature__play-button"
                  data-video-url="{{ section.settings.video_url }}"
                  aria-label="Play video"
                >
                  <img src="{{'video-play.svg' |  asset_url}}" alt="icon-play" width="48" height="48">
                </button>
              {%- endif -%}
            </div>
          {%- endif -%}

          <div class=" three-column-feature__card--right">
            {%- if section.settings.right_heading != blank -%}
              <h3 class="three-column-feature__heading three-column-feature__heading--right">
                {{ section.settings.right_heading }}
              </h3>
            {%- endif -%}
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .three-column-feature {
    padding: 60px 0;
    background-color: var(--white);
  }

  .three-column-feature__grid {
    display: grid;
    align-items: start;
    grid-template-columns: repeat(2, 1fr);
    gap: 32px;
  }

  .three-column-feature__column {
    display: flex;
  }
  .three-column-feature__column--left {
    flex-direction: row;
    gap: 32px;
  }
  .three-column-feature__column--left > div {
    flex: 1;
  }
  .three-column-feature__content {
    padding: 22px 30px 23px;
    background-color: var(--white);
    position: relative;
    z-index: 1;
    display: flex;
    flex-direction: column;
  }
  .three-column-feature__heading {
    font-size: 24px;
    font-weight: 600;
    line-height: 24px;
    margin: 0 0 15px 0;
    color: var(--light-black);
  }

  .three-column-feature__description,
  .three-column-feature__description p {
    font-size: 14px;
    line-height: 25.5px;
    color: var(--light-black);
    font-weight: 500;
    margin: 0;
    letter-spacing: 0;
    max-width: 305px;
  }

  .three-column-feature__description p + p {
    margin: 10px 0 18px;
  }

  .three-column-feature__image-wrapper {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
  }

  .three-column-feature__image {
    width: 100%;
    height: 100%;
    display: block;
  }

  .three-column-feature__card {
    background-color: var(--secondary-color);
    padding: 30px;
    width: 100%;
    border-radius: 16px;
  }

  .three-column-feature__button {
    display: inline-block;
    text-decoration: none;
    width: 187px;
    height: 56px;
    line-height: 56px;
    border-radius: 108px;
    font-weight: 600;
    font-size: 14px;
    transition: all 0.3s ease;
    border: 1px solid var(--secondary-color);
    color: var(--dark-primary-color);
    background-color: var(--primary-color);
    cursor: pointer;
    text-align: center;
    margin-inline: auto;
    display: block;
  }
  .three-column-feature__button.three-column-feature__button--left {
    margin-top: auto;
  }

  .three-column-feature__video-section {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    border-radius: 16px;
    overflow: hidden;
  }

  .three-column-feature__video-wrapper {
    position: relative;
    width: 100%;
  }

  .three-column-feature__video-poster {
    width: 100%;
    height: 100%;
    display: block;

    max-height: 285px;
  }

  .three-column-feature__play-button {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: none;
    border: none;
    cursor: pointer;
    padding: 0;
    transition: transform 0.3s ease;
  }

  .three-column-feature__play-icon {
    width: 48px;
    height: 48px;
  }
   .three-column-feature__card--right{
    padding: 29px 15px 33px;
    background-color: var(--icon-color);
    width: 100%;
   }
   .three-column-feature__card--right .three-column-feature__heading{
margin: 0;
text-align: center;
   }
</style>

{% schema %}
{
  "name": "Three Column Feature",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "header",
      "content": "Left Column - Product Info"
    },
    {
      "type": "text",
      "id": "left_heading",
      "label": "Heading",
      "default": "Handmade. Vegan. Iconic."
    },
    {
      "type": "textarea",
      "id": "left_description",
      "label": "Description",
      "default": "Make your powder foundation glow with this brush."
    },
    {
      "type": "image_picker",
      "id": "left_image",
      "label": "Product Image"
    },
    {
      "type": "text",
      "id": "left_button_text",
      "label": "Button Text",
      "default": "Get This Bundle"
    },
    {
      "type": "url",
      "id": "left_button_link",
      "label": "Button Link"
    },
    {
      "type": "header",
      "content": "Middle Column - Bundle Info"
    },
    {
      "type": "text",
      "id": "middle_heading",
      "label": "Heading",
      "default": "Bundle & Save"
    },
    {
      "type": "richtext",
      "id": "middle_description",
      "label": "Description",
      "default": "<p>Finish your look with our Glow Box Bundle. Bronzer, Contour, Highlighter, Blush & Brush. All of the magical skincare benefits and everything you need to finish your look in a stunning pink and gold box at an amazing price!</p>"
    },
    {
      "type": "text",
      "id": "middle_button_text",
      "label": "Button Text",
      "default": "Get This Bundle"
    },
    {
      "type": "url",
      "id": "middle_button_link",
      "label": "Button Link"
    },
    {
      "type": "header",
      "content": "Right Column - Video Section"
    },
    {
      "type": "image_picker",
      "id": "video_poster",
      "label": "Video Poster Image (Before/After)"
    },
    {
      "type": "url",
      "id": "video_url",
      "label": "Video URL (YouTube or direct video)"
    },
    {
      "type": "text",
      "id": "right_heading",
      "label": "Video Title",
      "default": "Natural Coverage For Marks & Scars"
    }
  ],
  "presets": [
    {
      "name": "Three Column Feature",
      "category": "Custom Sections"
    }
  ]
}
{% endschema %}
